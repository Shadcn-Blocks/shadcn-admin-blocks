{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "Layout",
  "type": "registry:component",
  "title": "Layout",
  "description": "The whole layout.",
  "registryDependencies": [],
  "files": [
    {
      "path": "registry/layout/AppHeader.tsx",
      "content": "import { SidebarIcon } from 'lucide-react'\nimport { Button } from '../ui/button'\nimport { Separator } from '../ui/separator'\nimport { Breadcrumbs } from './Breadcrumbs'\nimport { useSidebar } from '../ui/sidebar'\n\nexport const AppHeader = () => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <header className=\"bg-background sticky top-0 z-50 flex w-full items-center border-b\">\n      <div className=\"flex h-(--header-height) w-full items-center gap-2 px-4\">\n        <Button className=\"h-8 w-8\" variant=\"ghost\" size=\"icon\" onClick={toggleSidebar}>\n          <SidebarIcon />\n        </Button>\n        <Separator orientation=\"vertical\" className=\"mr-2 h-4\" />\n        <Breadcrumbs />\n\n        <div className=\"ml-auto\">\n          {/* TODO */}\n          {/* <UserDropdown /> */}\n        </div>\n      </div>\n    </header>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/layout/AppSidebar.tsx",
      "content": "import { ComponentProps } from 'react'\nimport { Sidebar, SidebarContent, SidebarHeader } from '../ui/sidebar'\nimport { OrganizationSwitch } from './OrganizationSwitch'\nimport { SidebarMainNav } from './SidebarMainNav'\n\nexport const AppSidebar = (props: ComponentProps<typeof Sidebar>) => {\n  return (\n    <Sidebar className=\"top-(--header-height) h-[calc(100svh-var(--header-height))]!\" {...props}>\n      <SidebarHeader>\n        <OrganizationSwitch />\n      </SidebarHeader>\n      <SidebarContent>\n        <SidebarMainNav />\n      </SidebarContent>\n    </Sidebar>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/layout/Breadcrumbs.tsx",
      "content": "import React, { useMemo } from 'react'\nimport { isMatch, Link, useMatches } from '@tanstack/react-router'\nimport { Breadcrumb, BreadcrumbItem, BreadcrumbList, BreadcrumbSeparator } from '../ui/breadcrumb'\n\nexport const Breadcrumbs = () => {\n  const matches = useMatches()\n\n  const items = useMemo(() => {\n    const matchesWithCrumbs = matches.filter((match) => isMatch(match, 'loaderData.crumb'))\n\n    return matchesWithCrumbs.map(({ pathname, loaderData, staticData }) => ({\n      href: pathname,\n      label: loaderData?.crumb,\n      isClickable: staticData.hasClickableBreadcrumb,\n    }))\n  }, [matches])\n\n  return (\n    <Breadcrumb>\n      <BreadcrumbList>\n        {items.map((item, index) => (\n          <React.Fragment key={index}>\n            <BreadcrumbItem key={index}>\n              {item.isClickable ? (\n                <Link to={item.href} className=\"breadcrumb-link\">\n                  {item.label}\n                </Link>\n              ) : (\n                <span className=\"breadcrumb-link\">{item.label}</span>\n              )}\n            </BreadcrumbItem>\n            {index < items.length - 1 && <BreadcrumbSeparator />}\n          </React.Fragment>\n        ))}\n      </BreadcrumbList>\n    </Breadcrumb>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/layout/Layout.tsx",
      "content": "import { ReactNode } from 'react'\nimport { SidebarInset, SidebarProvider } from '../ui/sidebar'\nimport { AppHeader } from './AppHeader'\nimport { AppSidebar } from './AppSidebar'\n\ninterface RootLayoutProps {\n  children: ReactNode\n}\n\nexport function Layout({ children }: RootLayoutProps) {\n  return (\n    <>\n      <div className=\"[--header-height:calc(--spacing(14))]\">\n        <SidebarProvider className=\"flex flex-col\">\n          <AppHeader />\n          <div className=\"flex flex-1\">\n            {/* <AppSidebar /> */}\n            {/* <SidebarInset>\n              <div className=\"flex flex-1 flex-col gap-4 p-4\">{children}</div>\n            </SidebarInset> */}\n          </div>\n        </SidebarProvider>\n      </div>\n    </>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/layout/OrganizationSwitch.tsx",
      "content": "import * as React from 'react'\nimport { ChevronsUpDown, Plus, Command } from 'lucide-react'\nimport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuShortcut,\n  DropdownMenuSeparator,\n} from '../ui/dropdown-menu'\nimport { SidebarMenu, SidebarMenuItem, SidebarMenuButton } from '../ui/sidebar'\n\nconst data = [\n  {\n    name: 'Acme Inc',\n    logo: Command,\n    plan: 'Enterprise',\n  },\n]\n\nexport const OrganizationSwitch = () => {\n  // const { t } = useTranslation()\n  // const { isMobile } = useSidebar()\n  const [activeTeam, setActiveTeam] = React.useState(data[0])\n\n  if (!activeTeam) {\n    return null\n  }\n\n  return (\n    <SidebarMenu>\n      <SidebarMenuItem>\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <SidebarMenuButton\n              size=\"lg\"\n              className=\"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground\"\n            >\n              <div className=\"bg-sidebar-primary text-sidebar-primary-foreground flex aspect-square size-8 items-center justify-center rounded-lg\">\n                <activeTeam.logo className=\"size-4\" />\n              </div>\n              <div className=\"grid flex-1 text-left text-sm leading-tight\">\n                <span className=\"truncate font-medium\">{activeTeam.name}</span>\n                <span className=\"truncate text-xs\">{activeTeam.plan}</span>\n              </div>\n              <ChevronsUpDown className=\"ml-auto\" />\n            </SidebarMenuButton>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent\n            className=\"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg\"\n            align=\"start\"\n            // side={isMobile ? 'bottom' : 'right'}\n            sideOffset={4}\n          >\n            <DropdownMenuLabel className=\"text-muted-foreground text-xs\">\n              organizationSwitch.label\n            </DropdownMenuLabel>\n            {data.map((team, index) => (\n              <DropdownMenuItem\n                key={team.name}\n                onClick={() => setActiveTeam(team)}\n                className=\"gap-2 p-2\"\n              >\n                <div className=\"flex size-6 items-center justify-center rounded-md border\">\n                  <team.logo className=\"size-3.5 shrink-0\" />\n                </div>\n                {team.name}\n                <DropdownMenuShortcut>âŒ˜{index + 1}</DropdownMenuShortcut>\n              </DropdownMenuItem>\n            ))}\n            <DropdownMenuSeparator />\n            <DropdownMenuItem className=\"gap-2 p-2\">\n              <div className=\"flex size-6 items-center justify-center rounded-md border bg-transparent\">\n                <Plus className=\"size-4\" />\n              </div>\n              <div className=\"text-muted-foreground font-medium\">\n                organizationSwitch.addOrganization\n              </div>\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </SidebarMenuItem>\n    </SidebarMenu>\n  )\n}\nfunction useTranslation(): { t: any } {\n  throw new Error('Function not implemented.')\n}\n\nfunction useSidebar(): { isMobile: any } {\n  throw new Error('Function not implemented.')\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/layout/SidebarMainNav.tsx",
      "content": "import { ChevronRight, Link } from 'lucide-react'\nimport { useTranslation } from 'react-i18next'\n\nimport { useMemo } from 'react'\nimport { Collapsible, CollapsibleTrigger, CollapsibleContent } from '../ui/collapsible'\nimport {\n  SidebarMenuItem,\n  SidebarMenuButton,\n  SidebarMenuSub,\n  SidebarMenuSubItem,\n  SidebarMenuSubButton,\n  SidebarMenu,\n} from '../ui/sidebar'\nimport { SidebarItem } from './hooks/useDynamicSidebar'\nimport { useMatches } from '@tanstack/react-router'\n\nconst CollapsibleSidebarItem = ({ item }: { item: SidebarItem }) => {\n  const { t } = useTranslation()\n  const matches = useMatches()\n\n  const defaultOpen = useMemo(() => {\n    return matches.some((match) => match.pathname === item.url)\n  }, [matches, item.url])\n\n  return (\n    <Collapsible asChild className=\"group/collapsible\" defaultOpen={defaultOpen}>\n      <SidebarMenuItem>\n        <CollapsibleTrigger asChild>\n          <SidebarMenuButton tooltip={t(`sideBar.mainNav.${item.title}` as any)}>\n            <item.icon />\n            <span className=\"text-sm\">{t(`sideBar.mainNav.${item.title}` as any)}</span>\n            <ChevronRight className=\"ml-auto transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90\" />\n          </SidebarMenuButton>\n        </CollapsibleTrigger>\n        <CollapsibleContent>\n          <SidebarMenuSub>\n            {item.children.map((child) => (\n              <Link to={child.url} key={child.url}>\n                {({ isActive }) => (\n                  <SidebarMenuSubItem>\n                    <SidebarMenuSubButton asChild isActive={isActive}>\n                      <span className=\"font-inherit\">\n                        {t(`sideBar.mainNav.${child.title}` as any)}\n                      </span>\n                    </SidebarMenuSubButton>\n                  </SidebarMenuSubItem>\n                )}\n              </Link>\n            ))}\n          </SidebarMenuSub>\n        </CollapsibleContent>\n      </SidebarMenuItem>\n    </Collapsible>\n  )\n}\n\nconst SidebarItemComponent = ({ item }: { item: SidebarItem }) => {\n  const { t } = useTranslation()\n\n  if (item.children.length > 0) {\n    return <CollapsibleSidebarItem item={item} />\n  }\n\n  return (\n    <Link to={item.url} key={item.url}>\n      {({ isActive }) => (\n        <SidebarMenuItem key={item.title}>\n          <SidebarMenuButton asChild isActive={isActive}>\n            <span>\n              <item.icon />\n              <span>{t(`sideBar.mainNav.${item.title}` as any)}</span>\n            </span>\n          </SidebarMenuButton>\n        </SidebarMenuItem>\n      )}\n    </Link>\n  )\n}\n\nexport const SidebarMainNav = () => {\n  const sidebarItems = useDynamicSidebar()\n\n  return (\n    <div className=\"p-2\">\n      <SidebarMenu>\n        {sidebarItems.map((item) => (\n          <SidebarItemComponent key={item.url} item={item} />\n        ))}\n      </SidebarMenu>\n    </div>\n  )\n}\n\nfunction useDynamicSidebar() {\n  return [\n    { url: '/', title: 'Home', icon: Link, children: [] },\n    { url: '/', title: 'Home', icon: Link, children: [] },\n  ] as SidebarItem[]\n  // throw new Error('Function not implemented.')\n}\n",
      "type": "registry:component"
    }
  ]
}