import { Meta, Canvas } from '@storybook/addon-docs/blocks'
import * as Stories from '@/components/layout/Layout.stories'

<Meta title="Layout" />

# Layout

A composable and flexible layout system for admin panels and dashboards. Use `LayoutBase` and individual building blocks for full control, or wrap `WorkspacesProvider` and include `WorkspaceSwitch` to enable workspace switching.

---

## Installation

```bash
npx shadcn add https://raw.githubusercontent.com/Shadcn-Blocks/shadcn-admin-blocks/refs/heads/main/public/r/Layout.json
```

---

## Usage

### ðŸ§± Default Layout Without Workspace Switcher

By default, the `Layout` component does **not** include an organization or workspace switcher on its own. It renders the sidebar header and footer based solely on the provided `sidebar` configuration:

```tsx
<Layout
  sidebar={{
    header: {
      title: 'Dashboard',
      subtitle: 'Welcome back!',
      icon: <HouseIcon />,
    },
    footer: {
      signOut: () => alert('logging out'),
      user: {
        avatar: 'https://cat-avatars.vercel.app/api/cat?name=John%20Doe',
        email: 'john.doe@example.com',
        name: 'John Doe',
      },
    },
  }}
>
  I am content
</Layout>
```

<Canvas of={Stories.Default} />

---

### ðŸ”§ Layout With Workspace Switcher

To add workspace switching into your sidebar, simply include `<WorkspaceSwitch />` inside your sidebar header. Your provider will already have the data from `initialWorkspaces`:

```tsx

const workspacesData: Workspace[] = [
  { name: 'Acme Inc', logo: LifeBuoy, plan: 'Enterprise' },
  { name: 'Beta Co', logo: Send, plan: 'Pro' },
]

<WorkspacesProvider workspaces={workspacesData}>
  <LayoutBase>
    <LayoutSidebar>
      <LayoutSidebarHeader>
        <WorkspaceSwitch />
      </LayoutSidebarHeader>
      <LayoutSidebarContent>{/* bottom menu items */}</LayoutSidebarContent>
      <LayoutSidebarFooter user={user}>/* footer controls */</LayoutSidebarFooter>
    </LayoutSidebar>

    <SidebarInset>
      <LayoutHeader />
      <LayoutContent>I am content</LayoutContent>
    </SidebarInset>
  </LayoutBase>
</WorkspacesProvider>
```

<Canvas of={Stories.Customized} />
