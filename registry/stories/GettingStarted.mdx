import { Meta } from '@storybook/blocks'

<Meta title="Getting Started" />

# Getting Started

Get up and running with shadcn Admin Blocks in your project. This guide will walk you through
installation, setup, and basic usage patterns.

<div className="mb-8 p-6 bg-gradient-to-r from-primary/10 to-secondary/10 rounded-lg">
  <h2 className="text-xl font-semibold mb-2">Choose Your Starting Point</h2>
  <div className="grid md:grid-cols-3 gap-4 mt-4">
    <div className="p-4 bg-background border rounded">
      <h3 className="font-semibold">ğŸš€ Quick Start</h3>
      <p className="text-sm text-muted-foreground mt-1 mb-3">
        Get a working layout in 2 minutes
      </p>
      <a href="#quick-start" className="text-primary text-sm underline">Start here â†’</a>
    </div>
    
    <div className="p-4 bg-background border rounded">
      <h3 className="font-semibold">ğŸ“Š With DataTable</h3>
      <p className="text-sm text-muted-foreground mt-1 mb-3">
        Add powerful data tables
      </p>
      <a href="#datatable-setup" className="text-primary text-sm underline">Add tables â†’</a>
    </div>
    
    <div className="p-4 bg-background border rounded">
      <h3 className="font-semibold">ğŸ“ Complete Setup</h3>
      <p className="text-sm text-muted-foreground mt-1 mb-3">
        Full installation with forms
      </p>
      <a href="#complete-setup" className="text-primary text-sm underline">Full setup â†’</a>
    </div>
  </div>
</div>

## ğŸš€ Quick Start (2 minutes)

**Goal:** Get a working admin layout with minimal setup.

### Step 1: Install Basic Dependencies
```bash
# Essential shadcn/ui components (copy all at once)
npx shadcn add button sidebar breadcrumb avatar separator
```

### Step 2: Add Layout System
```bash
npx shadcn add https://raw.githubusercontent.com/Shadcn-Blocks/shadcn-admin-blocks/refs/heads/main/public/r/Layout.json
```

### Step 3: Use It
```tsx
import { Layout } from '@/components/layout/Layout'

export function App() {
  return (
    <Layout sidebar={{ 
      header: { title: 'My App' },
      footer: { user: { name: 'John', email: 'john@example.com' }}
    }}>
      <div className="p-6">
        <h1>Welcome to your admin panel!</h1>
      </div>
    </Layout>
  )
}
```

<div className="mt-4 p-4 bg-green-50 border border-green-200 rounded">
  <strong>âœ… Done!</strong> You now have a responsive admin layout. 
  <a href="/?path=/story/layout-layout--default" className="text-primary underline ml-1">See it in action</a>
</div>

---

## ğŸ“Š DataTable Setup

**Goal:** Add data tables to your existing layout.

### Prerequisites
- Completed Quick Start above
- Have some data to display

### Additional Dependencies
```bash
npm install @tanstack/react-table @tanstack/react-query
npm install @jakub.knejzlik/ts-query
```

### Install DataTable
```bash
npx shadcn add https://raw.githubusercontent.com/Shadcn-Blocks/shadcn-admin-blocks/refs/heads/main/public/r/DataTable.json
```

---

## ğŸ“ Complete Setup

**Goal:** Full installation with all components.

## Prerequisites

Before installing shadcn Admin Blocks, ensure your project has:

- React 18 or later
- TypeScript configured
- Tailwind CSS v3 or v4
- shadcn/ui CLI installed (`npx shadcn@latest init`)

## Installation

### 1. Install Base Dependencies

First, ensure you have the required base shadcn/ui components:

```bash
npx shadcn add button input form label select
npx shadcn add checkbox textarea calendar popover
npx shadcn add table pagination dropdown-menu
npx shadcn add sidebar breadcrumb avatar separator
```

### 2. Install Admin Blocks

Install individual component blocks using the shadcn CLI with our registry:

#### Layout System

```bash
npx shadcn add https://raw.githubusercontent.com/Shadcn-Blocks/shadcn-admin-blocks/refs/heads/main/public/r/Layout.json
```

#### DataTable

```bash
npx shadcn add https://raw.githubusercontent.com/Shadcn-Blocks/shadcn-admin-blocks/refs/heads/main/public/r/DataTable.json
```

#### Enhanced Form Components

```bash
npx shadcn add https://raw.githubusercontent.com/Shadcn-Blocks/shadcn-admin-blocks/refs/heads/main/public/r/Form.json
```

### 3. Install Additional Dependencies

Some components require additional npm packages. Install them based on your needs:

**For Layout:**

```bash
npm install react-i18next
```

**For DataTable:**

```bash
npm install @tanstack/react-table @tanstack/react-query
npm install @jakub.knejzlik/ts-query numeral sql.js
npm install -D @types/numeral @types/sql.js
```

**For Forms:**

```bash
npm install react-hook-form @hookform/resolvers zod
npm install date-fns lucide-react
```

## Basic Usage

### Layout Example

Create a basic admin layout with sidebar navigation:

```tsx
import { Layout } from '@/components/layout/Layout'
import { LayoutHeader } from '@/components/layout/LayoutHeader'
import { LayoutSidebar } from '@/components/layout/LayoutSidebar'
import { LayoutContent } from '@/components/layout/LayoutContent'

export function AdminLayout({ children }) {
  return (
    <Layout>
      <LayoutSidebar>{/* Add navigation items */}</LayoutSidebar>
      <div className="flex-1">
        <LayoutHeader />
        <LayoutContent>{children}</LayoutContent>
      </div>
    </Layout>
  )
}
```

### DataTable Example

Create a data table with server-side operations:

```tsx
import { DataTable } from '@/components/data-table/DataTable'
import { StaticDataSource } from '@/lib/data-sources/StaticDataSource'

const dataSource = new StaticDataSource({
  data: users,
  columns: {
    id: { type: 'number' },
    name: { type: 'string' },
    email: { type: 'string' },
    role: { type: 'string' },
  },
})

export function UsersTable() {
  return (
    <DataTable
      dataSource={dataSource}
      columns={[
        { key: 'name', label: 'Name' },
        { key: 'email', label: 'Email' },
        { key: 'role', label: 'Role' },
      ]}
    />
  )
}
```

### Enhanced Form Example

Create forms with less boilerplate using enhanced components:

```tsx
import { useForm } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import { z } from 'zod'
import { Form } from '@/components/ui/form'
import { FormFieldInput } from '@/components/form/FormFieldInput'
import { FormFieldCheckbox } from '@/components/form/FormFieldCheckbox'
import { FormSubmitButton } from '@/components/form/FormSubmitButton'

const schema = z.object({
  username: z.string().min(3),
  email: z.string().email(),
  terms: z.boolean(),
})

export function SignupForm() {
  const form = useForm({
    resolver: zodResolver(schema),
    defaultValues: {
      username: '',
      email: '',
      terms: false,
    },
  })

  return (
    <Form {...form}>
      <form onSubmit={form.handleSubmit(onSubmit)}>
        <FormFieldInput
          control={form.control}
          name="username"
          label="Username"
          placeholder="Enter username"
        />

        <FormFieldInput
          control={form.control}
          name="email"
          label="Email"
          type="email"
          placeholder="Enter email"
        />

        <FormFieldCheckbox control={form.control} name="terms">
          I agree to the terms and conditions
        </FormFieldCheckbox>

        <FormSubmitButton>Sign Up</FormSubmitButton>
      </form>
    </Form>
  )
}
```

## Project Structure

After installation, components will be added to your project:

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”œâ”€â”€ Layout.tsx
â”‚   â”‚   â”œâ”€â”€ LayoutSidebar.tsx
â”‚   â”‚   â”œâ”€â”€ LayoutHeader.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ data-table/
â”‚   â”‚   â”œâ”€â”€ DataTable.tsx
â”‚   â”‚   â”œâ”€â”€ DataTableColumn.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ form/
â”‚   â”‚   â”œâ”€â”€ FormFieldInput.tsx
â”‚   â”‚   â”œâ”€â”€ FormFieldCheckbox.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ ui/
â”‚       â””â”€â”€ (shadcn/ui components)
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ data-sources/
â”‚   â”‚   â”œâ”€â”€ DataSource.ts
â”‚   â”‚   â””â”€â”€ StaticDataSource.ts
â”‚   â””â”€â”€ form/
â”‚       â””â”€â”€ types.ts
â””â”€â”€ hooks/
    â”œâ”€â”€ useDynamicSidebar.ts
    â””â”€â”€ useTranslation.ts
```

## TypeScript Configuration

Ensure your `tsconfig.json` includes:

```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
```

<div className="mt-12 p-6 bg-muted rounded-lg">
  <h3 className="font-semibold mb-2">Next Steps</h3>
  <p className="text-muted-foreground mb-3">Now that you have the components installed, explore:</p>
  <ul className="list-disc list-inside space-y-1 text-muted-foreground">
    <li>Browse the component examples in this Storybook</li>
    <li>Check out the live demos and code snippets</li>
    <li>Customize components to match your design system</li>
    <li>Join our community for support and updates</li>
  </ul>
</div>

## Common Issues & Solutions

### âŒ "Cannot resolve @/components/layout/Layout"

**Problem:** TypeScript can't find the component after installation.

**Solution:** Ensure your `tsconfig.json` has the correct path mapping:
```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]  // or your source directory
    }
  }
}
```

### âŒ Styling looks broken or unstyled

**Problem:** Tailwind CSS classes aren't being applied.

**Solutions:**
1. Ensure Tailwind is installed and configured
2. Add to your `tailwind.config.js`:
```js
module.exports = {
  content: [
    "./src/**/*.{js,ts,jsx,tsx,mdx}",
    // Add this if components are copied to a different directory
    "./components/**/*.{js,ts,jsx,tsx,mdx}",
  ],
}
```

### âŒ "Module not found" errors for dependencies

**Problem:** Missing npm packages for specific components.

**Solution:** Install the required dependencies based on which components you're using:
```bash
# For Layout components
npm install react-i18next

# For DataTable components  
npm install @tanstack/react-table @tanstack/react-query @jakub.knejzlik/ts-query

# For Form components
npm install react-hook-form @hookform/resolvers zod date-fns
```

<div className="mt-8 p-6 border border-primary/20 rounded-lg">
  <h3 className="font-semibold mb-2">ğŸ’¡ Pro Tip</h3>
  <p className="text-muted-foreground">
    Components are copied directly into your project, giving you full control. Feel free to modify
    them to suit your specific needs - they're yours to customize!
  </p>
</div>
